# IP地址  
## 简介：  
IP是英文Internet Protocol的缩写，意思是“网络之间互连的协议”，也就是为计算机网络相互连接进行通信而设计的协议。在因特网中，它是能使连接到网上的所有计算机网络实现相互通信的一套规则，规定了计算机在因特网上进行通信时应当遵守的规则。     
IP地址可唯一标识IP网络中的每台设备，每台主机必须具有唯一的地址。  

## IP地址组成   
+ 网络ID：  
标识网络  
每个网段分配一个网络ID  
+ 主机ID  
标识单个主机  
由组织分配给各设备   

## IPv4地址格式  
点分十进制记法  
|IP地址是一个32位进制数，如|10101100|00010000|10000000|00010001|
|:----:|:----:|:----:|:---:|:---:|
|将32位二进制数分为4组8位二进制，如|10101100|00010000|10000000|00010001|
|每组8位二进制转换成十进制数，如|172|16|128|17|
|地址使用点分十进制记法记录|172.|16.|128.|17|

## 公式  
1、一个网络中最大的主机数=2^主机ID位-2  
2、网络数=2^可变的网络ID位  
3、网络ID=IP和netmask相与    
4、划分子网数=2^网络ID向主机ID借的位数  



## IP地址分类  
1. A类  
定义：网络ID位为高8位，主机ID位为24位；  
格式：第一位必须为0，表现形式为0xxxxxxx.X.Y.Z；  
例外：127开头的IP地址为保留回环地址；0开头的IP地址无效；  
范围：1-126.X.Y.Z  
一个网络中的主机最大数：2^24-2  
备注：主机ID全为0，代表该网段；主机ID全为1，代表广播。  
网络数（网段数）：2^（8-1）   
2. B类  
定义：网络ID位为高16位，主机ID位为16位；  
格式：前两位必须为10，表现形式为10xxxxxx.X.Y.Z；  
范围：128-191.X.Y.Z  
一个网络中的主机最大数：2^16-2=65534  
网络数：2^（6+8）  
3. C类  
定义：网络ID位为高24位，主机ID位为8位；   
格式：前三位必须为110，表现形式为110xxxxx.X.Y.Z；  
范围：192-223.X.Y.Z  
一个网络中的主机最大数：2^8-2=254  
网络数：2^（5+8+8）  
4. D类  
定义：多播地址；  
格式：前四位必须为1110xxxx.X.Y.Z；  
范围：224-239.X.Y.Z  
5. E类  
定义：保留未使用；  
格式：前五位必须为11110xxx.X.Y.Z；  
范围：240-254.X.Y.Z（255为广播）  

## CIDR  
### 简介  
无类域间路由(Classless InterDomain Routing)，网络ID位数不确定，主机ID位数也不确定，根据子网掩码判断。    
子网掩码（netmask）：32bit二进制，对应于网络ID位为1，对应于主机ID位为0。   
以8位为例，子网掩码可能出现的形式：    

|二进制|十进制|  
|:---:|:----:|
|00000000|0|
|10000000|128|
|11000000|192|
|11100000|224|
|11110000|240|
|11111000|248|
|11111100|252|
|11111110|254|
|11111111|255|

示例：  
若子网掩码为255.255.224.0，则网络ID和主机ID的位数分别是？  
将255.255.224.0换成二进制，共有8+8+3=19个1,13个0，因此网络ID位数为19位，主机ID位数为13位。  

### 表示法    
IP地址/网络ID的位数  
示例：
+ IP10.0.0.100，netmask255.255.224.0；  
CIDR表示法为10.0.100/19  
+ 已知IP地址为203.110.200.199/22  
1.主机数？  
2.network？  
3.网络ID值？  
解答：  
1.22表示网络ID有22位，主机ID有32-22=10位，所以最大主机数位2^10-2=1022  
2.网络ID有22位，表示32位二进制的network前22位为1，后10位为0，即11111111 11111111 11111100 00000000，换算为十进制为255.255.252.0  
3.网络ID为前22位，空位0补齐，即203.110.110010 00.0，换成十进制为203.110.200.0/22。  

### 划分子网  
一个大网（主机数多）划分成多个小网。网络ID位变多，主机ID位变少，网络ID向主机ID借位。  
+ 示例  
IP为10.0.0.1/8，现网络ID向主机ID借位1位，划分子网情况：  
原IP为10.0.0.1/8 
原IP地址范围10.0.0.1-10.255.255.254  
现网络ID向主机ID借位1位：10.0 0000000.0.0
所借位有两种变化，0或1  
借位后形成两个子网：  
10.0 0000000.0.0/9  
10.1.0000000.0.0/9  
转成十进制：  
10.0.0.0/9  
10.128.0.0/9  



## IP地址类型  
### 公共IP地址  
+ A类公有IP地址范围  
1.0.0.0-9.255.255.255  
11.0.0.0-126.255.255.255  
+ B类公有IP地址范围  
128.0.0.0-172.15.255.255  
172.32.0.0-191.255.255.255  
+ C类公有IP地址范围  
192.0.0.0-192.167.255.255  
192.169.0.0-223.255.255.255  
### 私有IP地址  
+ A类私有IP地址范围  
10.0.0.0-10.255.255.255    
+ B类私有IP地址范围   
172.16.0.0-172.31.255.255  
+ C类私有IP地址范围    
192.168.0.0-192.168.255.255
### 特殊地址  
+ 0.0.0.0  
0.0.0.0不是一个真正意义上的IP地址。它表示所有不清楚的主机和目的网络。  
+ 255.255.255.255  
限制广播地址。对本机来说，这个地址指本网段内(同一广播域)的所有主机。  
+ 127.0.0.1-127.255.255.254  
本机回环地址，主要用于测试。在传输介质上永远不应该出现目的地址为
“127.0.0.1”的数据包。  
+ 224.0.0.0-239.255.255.255  
组播地址，224.0.0.1特指所有主机，224.0.0.2特指所有路由器。224.0.0.5指OSPF路由器，地址多用于一些特定的程序以及多媒体程序。  
+ 169.254.x.x  
如果Windows主机使用了DHCP自动分配IP地址，而又无法从DHCP服务器获取地
址，系统会为主机分配这样地址。  
### 保留地址  
+ 网络地址   
主机ID全为0    
+ 广播地址   
主机ID全为1，为该网段的广播  




